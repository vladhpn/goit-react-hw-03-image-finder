(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"styles_Overlay__1uiky",Modal:"styles_Modal__1cXlj"}},11:function(e,t,a){e.exports={ImageGalleryItem:"styles_ImageGalleryItem__hNT04",ImageGalleryItem__image:"styles_ImageGalleryItem__image__2BeeK"}},12:function(e,t,a){e.exports={container:"styles_container__2ozJ4",button:"styles_button__12U2K"}},23:function(e,t,a){e.exports={ImageGallery:"styles_ImageGallery__c0E9u",ImageGalleryItem:"styles_ImageGalleryItem__24rtM",GalleryItemImage:"styles_GalleryItemImage__2Prxj"}},25:function(e,t,a){e.exports={Spinner:"styles_Spinner__-QfTi"}},5:function(e,t,a){e.exports={Searchbar:"styles_Searchbar__1YSZ_",SearchForm:"styles_SearchForm__1gqPL",SearchButton:"styles_SearchButton__2EKp2",SearchFormLabel:"styles_SearchFormLabel__3iWsp",SearchFormInput:"styles_SearchFormInput__8bqIw"}},70:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),o=a.n(r),s=a(14),l=a(4),i=a(5),u=a.n(i),m=a(0),b=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o("")},className:u.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchButton,children:Object(m.jsx)("span",{className:u.a.SearchFormLabel,children:"Search"})}),Object(m.jsx)("input",{value:r,onChange:function(e){o(e.target.value)},className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},j=a(10),h=a.n(j),g=document.getElementById("modal-root"),O=function(e){var t=e.onClose,a=e.largeImageURL,n=e.alt;return Object(r.createPortal)(Object(m.jsx)("div",{className:h.a.Overlay,onClick:function(e){e.target===e.target&&t()},onKeyPress:function(e){"Escape"===e.key&&t()},children:Object(m.jsx)("div",{className:h.a.Modal,children:Object(m.jsx)("img",{src:a,alt:n})})}),g)},_=a(11),f=a.n(_);function d(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.onOpenModal;return Object(m.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:n,"data-source":a,className:f.a.ImageGalleryItem__image,onClick:c})})}var p=a(12),y=a.n(p),S=function(e){var t=e.onClick;return Object(m.jsx)("div",{className:y.a.container,children:Object(m.jsx)("button",{className:y.a.button,type:"button",onClick:t,children:"Load more"})})},I=a(23),x=a.n(I),v=function(e){var t=e.hits,a=e.onOpenModal,n=e.onLoadMore;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(m.jsx)(d,{webformatURL:n,largeImageURL:r,tags:c,onOpenModal:a},t)}))}),t.length>0&&Object(m.jsx)(S,{onClick:n})]})},L=a(24),F=a.n(L),N=(a(51),a(25)),G=a.n(N);var w=function(){return Object(m.jsx)(F.a,{className:G.a.Spinner,type:"TailSpin",color:"#00BFFF",height:80,width:80})},M=a(13),k=a.n(M);k.a.defaults.baseURL="https://pixabay.com/api";var U=function(e,t){return k.a.get("/?key=".concat("2778632-0d9f36dba3e3cb8ecea612bcf","&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})).catch((function(e){return console.log(e)}))},C=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(l.a)(r,2),i=o[0],u=o[1],j=Object(n.useState)(""),h=Object(l.a)(j,2),g=h[0],_=h[1],f=Object(n.useState)(""),d=Object(l.a)(f,2),p=d[0],y=d[1],S=Object(n.useState)(""),I=Object(l.a)(S,2),x=I[0],L=(I[1],Object(n.useState)(!1)),F=Object(l.a)(L,2),N=F[0],G=F[1],M=Object(n.useState)(!1),k=Object(l.a)(M,2),C=k[0],R=k[1],E=Object(n.useState)(""),B=Object(l.a)(E,2),K=(B[0],B[1]);Object(n.useEffect)((function(){g&&(R(!0),U(g,i).then((function(e){return c((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))}))})).then((function(){i>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return K(e.message)})).finally((function(){return R(!1)})))}),[g,i]),Object(n.useEffect)((function(){g&&(R(!0),c([]))}),[g]);var P=function(){G((function(e){return!e}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b,{onSubmit:function(e){_(e)}}),C&&Object(m.jsx)(w,{}),Object(m.jsx)(v,{hits:a,onOpenModal:function(e){y(e.target.dataset.source),P()},onLoadMore:function(){u(i+1)}}),N&&Object(m.jsx)(O,{onClose:P,largeImageURL:p,alt:x})]})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.221cee79.chunk.js.map