{"version":3,"sources":["components/Modal/styles.module.scss","components/ImageGalleryItem/styles.module.scss","components/Button/styles.module.scss","components/ImageGallery/styles.module.scss","components/Spinner/styles.module.scss","components/Searchbar/styles.module.scss","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Spinner/Spinner.jsx","server-api/server.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","styles","event","preventDefault","SearchForm","type","SearchButton","SearchFormLabel","value","onChange","target","SearchFormInput","autoComplete","autoFocus","placeholder","modalRoot","document","getElementById","Modal","onClose","largeImageURL","alt","createPortal","Overlay","onClick","onKeyPress","key","src","ImageGalleryItem","webformatURL","tags","onOpenModal","data-source","ImageGalleryItem__image","Button","container","button","ImageGallery","hits","onLoadMore","map","id","length","Spinner","color","height","width","axios","defaults","baseURL","fetchGallery","searchQuery","pageNumber","get","then","res","data","catch","err","console","log","App","setHits","currentPage","setCurrentPage","setSearchQuery","setLargeImageURL","showModal","setShowModal","isLoading","setIsLoading","setError","useEffect","prev","window","scrollTo","top","documentElement","scrollHeight","behavior","message","finally","toggleModal","e","dataset","source","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.221cee79.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__1uiky\",\"Modal\":\"styles_Modal__1cXlj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"styles_ImageGalleryItem__hNT04\",\"ImageGalleryItem__image\":\"styles_ImageGalleryItem__image__2BeeK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2ozJ4\",\"button\":\"styles_button__12U2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"styles_ImageGallery__c0E9u\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__24rtM\",\"GalleryItemImage\":\"styles_GalleryItemImage__2Prxj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"styles_Spinner__-QfTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__1YSZ_\",\"SearchForm\":\"styles_SearchForm__1gqPL\",\"SearchButton\":\"styles_SearchButton__2EKp2\",\"SearchFormLabel\":\"styles_SearchFormLabel__3iWsp\",\"SearchFormInput\":\"styles_SearchFormInput__8bqIw\"};","import {useState} from 'react';\nimport styles from './styles.module.scss'\n\n\nconst Searchbar = ({onSubmit}) =>{\n\n  const [query, setQuery] = useState('')\n\n   const handleChange = event => {\n        setQuery(event.target.value)\n    }\n\n   const handleSubmit = event => {\n        event.preventDefault()\n\n        onSubmit(query)\n        setQuery('')\n    }\n\n        return <header className={styles.Searchbar}>\n        <form onSubmit={handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchButton}>\n          <span className={styles.SearchFormLabel}>Search</span>\n          </button>\n      \n          <input\n          value ={query} onChange={handleChange}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n      \n    }\n\nexport default Searchbar;","/* eslint-disable no-self-compare */\nimport {useEffect} from 'react';\nimport {createPortal} from 'react-dom'\nimport styles from './styles.module.scss'\n\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nconst Modal = ({onClose, largeImageURL, alt}) => {\n\n   const handleKeyDown = event => {\n        if(event.key === 'Escape'){\n            onClose();\n        }\n    }\n\n    \n\n   const handleOverlayClick = event => {\n        if(event.target === event.target){\n            onClose();\n        }\n    }\n\n        return createPortal(<div className={styles.Overlay} onClick={handleOverlayClick} onKeyPress={handleKeyDown}>\n            <div className={styles.Modal}> \n              <img src={largeImageURL} alt={alt} />\n            </div>\n          </div>, modalRoot) \n}\n\nexport default Modal;","\nimport styles from './styles.module.scss'\n\nexport default function ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\n    return (\n      <li className={styles.ImageGalleryItem }>\n        <img\n          src={webformatURL}\n          alt={tags}\n          data-source={largeImageURL}\n          className={styles.ImageGalleryItem__image}\n          onClick={onOpenModal}\n        />\n      </li>\n    );\n  }","import styles from './styles.module.scss'\n\nconst Button = ({onClick}) => {\n   return(<div className={styles.container}><button className={styles.button}type=\"button\" onClick={onClick}>\n   Load more\n  </button></div>)\n}\n\n\nexport default Button;","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\nimport Button from '../Button'\nimport styles from './styles.module.scss'\n\n\n\nconst ImageGallery = ({ hits, onOpenModal, onLoadMore}) => {\n    return( \n      <>\n       <ul className={styles.ImageGallery}>\n        {hits.map(({ id, webformatURL, tags, largeImageURL }) => (\n          <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onOpenModal={onOpenModal}\n        />\n        ))}\n      </ul>\n      {hits.length > 0 && <Button onClick={onLoadMore} />}\n      </>\n) \n}\n\n\nexport default ImageGallery;","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from './styles.module.scss'\n\nfunction Spinner() {\n  return(<Loader className={styles.Spinner} type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n)}  \n\nexport default Spinner;","import axios from 'axios';\n\nconst AUTH_TOKEN = '2778632-0d9f36dba3e3cb8ecea612bcf';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst fetchGallery = (searchQuery, pageNumber) => {\n  return axios\n    .get(\n      `/?key=${AUTH_TOKEN}&q=${searchQuery}&page=${pageNumber}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(res => res.data.hits)\n    .catch(err => console.log(err));\n};\n\nexport default fetchGallery;\n","import { useEffect, useState } from 'react';\nimport Searchbar from './components/Searchbar';\nimport Modal from './components/Modal';\nimport ImageGallery from './components/ImageGallery';\nimport Spinner from './components/Spinner';\nimport fetchGallery from './server-api/server';\n\nconst App = () => {\n  const [hits, setHits] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [alt, setAlt] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    setIsLoading(true);\n\n    fetchGallery(searchQuery, currentPage)\n      .then(data => setHits(prev => [...prev, ...data]))\n      .then(() => {\n        if (currentPage > 1)\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n      })\n      .catch(err => setError(err.message))\n      .finally(() => setIsLoading(false));\n  }, [searchQuery, currentPage]);\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    setIsLoading(true);\n    setHits([]);\n  }, [searchQuery]);\n\n  const onChangeQuery = searchQuery => {\n    setSearchQuery(searchQuery);\n  };\n\n  // * Modal\n  const onOpenModal = e => {\n    setLargeImageURL(e.target.dataset.source);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  /**\n   * * Пропс для кнопки*/\n\n  const onLoadMore = () => {\n    setCurrentPage(currentPage + 1);\n  };\n  return (\n    <>\n      <Searchbar onSubmit={onChangeQuery} />\n      {isLoading && <Spinner />}\n      <ImageGallery\n        hits={hits}\n        onOpenModal={onOpenModal}\n        onLoadMore={onLoadMore}\n      />\n      {showModal && (\n        <Modal onClose={toggleModal} largeImageURL={largeImageURL} alt={alt} />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}