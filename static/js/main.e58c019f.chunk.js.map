{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Modal/styles.module.scss"],"names":["Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","placeholder","Component","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","styles","Overlay","src","alt","App","hits","currentPage","searchQuery","showModal","isLoading","onChangeQuery","fetchHits","axios","get","then","response","prevState","data","finally","toggleModal","prevProps","color","height","width","map","id","webformatURL","onClick","length","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"4OAkDeA,E,4MAvCXC,MAAQ,CACJC,MAAO,I,EAGXC,aAAe,SAAAC,GACX,EAAKC,SAAS,CACVH,MAAOE,EAAME,cAAcC,S,EAInCC,aAAe,SAAAJ,GACXA,EAAMK,iBAEN,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAACH,MAAM,M,4CAIzB,WACI,OAAO,wBAAQU,UAAU,YAAlB,SACP,uBAAMD,SAAUE,KAAKL,aAAcI,UAAU,aAA7C,UACE,wBAAQE,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACAL,MAAQM,KAAKZ,MAAMC,MAAOa,SAAUF,KAAKV,aACvCS,UAAU,mBACVE,KAAK,OAGLE,YAAY,sC,GAjCAC,a,gBCmBTC,E,4MAfXC,cAAgB,SAAAf,GACM,WAAfA,EAAMgB,MACL,EAAKV,MAAMW,W,uDAVnB,WACIC,OAAOC,iBAAiB,UAAWV,KAAKM,iB,kCAG5C,WACIG,OAAOE,oBAAoB,UAAWX,KAAKM,iB,oBAS/C,WACI,OAAO,qBAAKP,UAAWa,IAAOC,QAAvB,SACP,qBAAKd,UAAWa,IAAOP,MAAvB,SACE,qBAAKS,IAAI,GAAGC,IAAI,a,GAnBNX,a,kCC+ELY,G,wNAtEb5B,MAAQ,CACN6B,KAAM,GACNC,YAAa,EACbC,YAAa,GACbC,WAAW,EACXC,WAAW,G,EASbC,cAAgB,SAAAjC,GACd,EAAKG,SAAS,CAAE2B,YAAa9B,EAAO6B,YAAa,EAAGD,KAAM,M,EAG5DM,UAAY,WAAO,IAAD,EACqB,EAAKnC,MAAlC8B,EADQ,EACRA,YAAaC,EADL,EACKA,YAErB,EAAK3B,SAAS,CAAE6B,WAAW,IAE3BG,IACGC,IADH,4EAEyEN,EAFzE,8CAE0HD,IAEvHQ,MAAK,SAAAC,GACJ,EAAKnC,UAAS,SAAAoC,GAAS,MAAK,CAC1BX,KAAK,GAAD,mBAAMW,EAAUX,MAAhB,YAAyBU,EAASE,KAAKZ,OAC3CC,YAAaU,EAAUV,YAAc,SAGxCY,SAAQ,kBAAM,EAAKtC,SAAS,CAAE6B,WAAW,Q,EAG9CU,YAAc,WACZ,EAAKvC,UAAS,kBAAoB,CAChC4B,WADY,EAAGA,e,wDA7BnB,SAAmBY,EAAWJ,GACxBA,EAAUT,cAAgBnB,KAAKZ,MAAM+B,aACvCnB,KAAKuB,c,oBAgCT,WAAU,IAAD,SACgCvB,KAAKZ,MAApC6B,EADD,EACCA,KAAMG,EADP,EACOA,UAAWC,EADlB,EACkBA,UAEzB,OACE,qCACGD,GAAa,cAAC,EAAD,CAAOZ,QAASR,KAAK+B,cACnC,cAAC,EAAD,CAAWjC,SAAUE,KAAKsB,gBAEzBD,GACC,cAAC,IAAD,CAAQpB,KAAK,WAAWgC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAE7D,6BACGlB,EAAKmB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcrC,EAArB,EAAqBA,KAArB,OACR,oBAAasC,QAAS,EAAKR,YAA3B,SACE,qBAAKjB,IAAKwB,EAAcvB,IAAKd,KADtBoC,QAKZpB,EAAKuB,OAAS,GACb,wBAAQvC,KAAK,SAASsC,QAASvC,KAAKuB,UAApC,8B,GA9DQnB,cCPlBqC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCP1BC,EAAOC,QAAU,CAAC,QAAU,wBAAwB,MAAQ,yB","file":"static/js/main.e58c019f.chunk.js","sourcesContent":["import {Component} from 'react';\n\n\n\n// 20305682-bc6c61caedc31d9f439895335\n\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n\n\nclass Searchbar extends Component{\n\n    state = {\n        query: ''\n    }\n\n    handleChange = event => {\n        this.setState({\n            query: event.currentTarget.value\n        })\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n\n        this.props.onSubmit(this.state.query)\n        this.setState({query:''})\n    }\n\n\n    render() {\n        return <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n      \n          <input\n          value ={this.state.query} onChange={this.handleChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n      \n    }\n}\n\nexport default Searchbar;","import {Component} from 'react';\nimport styles from './styles.module.scss'\n\nclass Modal extends Component {\n\n    componentDidMount(){\n        window.addEventListener('keydown', this.handleKeyDown)\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n    handleKeyDown = event => {\n        if(event.code === 'Escape'){\n            this.props.onClose();\n        }\n    }\n\n    render(){\n        return <div className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src=\"\" alt=\"\" />\n        </div>\n      </div>\n    }\n}\n\nexport default Modal;","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Modal from './components/Modal/Modal';\nimport axios from 'axios';\nimport Loader from 'react-loader-spinner';\nimport 'modern-normalize/modern-normalize.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\n// axios.defaults.headers.common['Authorization'] =\n//   'Bearer 20305682-bc6c61caedc31d9f439895335';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, hits: [] });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    axios\n      .get(\n        `https://pixabay.com/api/?key=20305682-bc6c61caedc31d9f439895335&q=${searchQuery}&image_type=photo&per_page=12&page=${currentPage}`,\n      )\n      .then(response => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...response.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { hits, showModal, isLoading } = this.state;\n\n    return (\n      <>\n        {showModal && <Modal onClose={this.toggleModal} />}\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {isLoading && (\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        <ul>\n          {hits.map(({ id, webformatURL, type }) => (\n            <li key={id} onClick={this.toggleModal}>\n              <img src={webformatURL} alt={type} />\n            </li>\n          ))}\n        </ul>\n        {hits.length > 0 && (\n          <button type=\"button\" onClick={this.fetchHits}>\n            Load more\n          </button>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"styles_Overlay__1uiky\",\"Modal\":\"styles_Modal__1cXlj\"};"],"sourceRoot":""}